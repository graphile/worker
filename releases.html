<!doctype html>
<html lang="en" dir="ltr" class="mdx-wrapper mdx-page plugin-pages plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Releases | Graphile Worker</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://worker.graphile.org/releases"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Releases | Graphile Worker"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://worker.graphile.org/releases"><link data-rh="true" rel="alternate" href="https://worker.graphile.org/releases" hreflang="en"><link data-rh="true" rel="alternate" href="https://worker.graphile.org/releases" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://2VRSL786CS-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Graphile Worker" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/news/rss.xml" title="Graphile Worker RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/news/atom.xml" title="Graphile Worker Atom Feed">

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Sarabun">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fredericka+the+Great&amp;text=Use%20The%20Stack%20You%20Have."><link rel="stylesheet" href="/assets/css/styles.cc640bfa.css">
<link rel="preload" href="/assets/js/runtime~main.e57668fe.js" as="script">
<link rel="preload" href="/assets/js/main.5e9516a1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.optimized.svg" alt="Graphile Worker" class="themedImage_BQGR themedImage--light_HAxW"><img src="/img/logo.optimized.svg" alt="Graphile Worker" class="themedImage_BQGR themedImage--dark_bGx0"></div><b class="navbar__title text--truncate">Graphile Worker</b></a><a class="navbar__item navbar__link" href="/docs">Documentation</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/news">News</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/releases">Releases</a><a class="navbar__item navbar__link" href="/sponsors">Sponsor</a><a class="navbar__item navbar__link" href="/pricing">Go Pro</a><a href="https://github.com/graphile/worker" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_WqAV"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r"><main class="container container--fluid margin-vert--lg"><div class="row mdxPageWrapper_sagS"><div class="col col--8"><article><h1>Release notes</h1><h2 class="anchor anchorWithStickyNavbar_JmGV" id="worker-pro-easing-migration">Worker Pro: easing migration<a href="#worker-pro-easing-migration" class="hash-link" aria-label="Direct link to Worker Pro: easing migration" title="Direct link to Worker Pro: easing migration">​</a></h2><p>From time to time Graphile Worker needs to make changes to the database, and
these changes might cause pre-existing workers to fail in &quot;interesting&quot; ways.
These breaking changes are noted in the release notes below, and typically you
need to &quot;scale to zero&quot; to perform these updates - turn off all your existing
workers and only then run only new workers.</p><p>Worker Pro is a proprietary plugin which, among other things, helps to alleviate
this issue. It tracks the running workers and when a new breaking migration is
required it has all old workers exit cleanly (once they&#x27;ve finished what they&#x27;re
working on) and no further old workers will be able to start up. Once all old
workers have exited, the migration can go ahead as it normally would. This
avoids the need to &quot;scale to zero&quot; as workers will communicate with each other
to make sure the system as a whole remains consistent.</p><p>Read more:
<a href="https://worker.graphile.org/docs/pro/migration" target="_blank" rel="noopener noreferrer">Worker Pro Migration</a>.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="pending">Pending<a href="#pending" class="hash-link" aria-label="Direct link to Pending" title="Direct link to Pending">​</a></h2><ul><li>BREAKING: Jobs and queues are now <code>locked_by</code> their <code>WorkerPool</code>&#x27;s id rather
than the <code>workerId</code>. Be sure to upgrade
<a href="https://worker.graphile.org/docs/pro" target="_blank" rel="noopener noreferrer">Worker Pro</a> at the same time if you&#x27;re
using it!</li><li>New <code>addJobs()</code> JS method to enable efficiently adding a batch of jobs via the
JS API</li><li>DEPRECATION: <code>quickAddJob</code> has been renamed to <code>addJobAdhoc</code> to make it
clearer that it&#x27;s for use in one-off locations (some felt the &quot;quick&quot; referred
to the speed it executed, rather than the amount of effort required from the
programmer)</li><li>We&#x27;ll now warn you if you haven&#x27;t installed error handlers on the pool, and
will only install them ourself if needed</li><li>Fixes bug where CLI defaults override <code>graphile.config.js</code> settings (by
removing CLI defaults)</li><li>Fix bug where executable tasks had their stdout/stderr ignored; this is now
output via logging (thanks @wineTGH).</li><li>Fix race condition when multiple workers attempt to initialise the database at
the same time</li><li><code>helpers.abortSignal</code> is no longer typed as <code>| undefined</code>. It is still
experimental!</li><li><code>helpers.abortPromise</code> added; will reject when <code>abortSignal</code> aborts (useful
for <code>Promise.race()</code>)</li><li><code>backfillPeriod</code> is now marked as optional in TypeScript (defaults to 0).</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0166">v0.16.6<a href="#v0166" class="hash-link" aria-label="Direct link to v0.16.6" title="Direct link to v0.16.6">​</a></h2><ul><li>Fix bug in <code>workerUtils.cleanup()</code> where queues would not be cleaned up if
there existed any job that was not in a queue</li><li>If errors happen writing to stdout/stderr (e.g. <code>SIGPIPE</code>), we&#x27;ll trigger a
graceful shutdown (and swallow further errors)</li><li><code>workerUtils.cleanup({ tasks: [&#x27;GC_TASK_IDENTIFIERS&#x27;] })</code> now allows you to
specify additional task identifiers to keep (<code>taskIdentifiersToKeep: [...]</code>)
in order to reduce impact on other workers</li><li><code>graphile-worker --cleanup GC_TASK_IDENTIFIERS</code> will attempt to keep all
locally defined task identifiers</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0165">v0.16.5<a href="#v0165" class="hash-link" aria-label="Direct link to v0.16.5" title="Direct link to v0.16.5">​</a></h2><ul><li>Add &quot;timeout&quot; to list of retryable error codes - thanks @psteinroe</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0164">v0.16.4<a href="#v0164" class="hash-link" aria-label="Direct link to v0.16.4" title="Direct link to v0.16.4">​</a></h2><ul><li>Hotfix: remove website dependencies from worker module dependencies</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0163">v0.16.3<a href="#v0163" class="hash-link" aria-label="Direct link to v0.16.3" title="Direct link to v0.16.3">​</a></h2><ul><li>Add &quot;cannot connect now&quot; to list of retryable error codes - thanks @psteinroe</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0162">v0.16.2<a href="#v0162" class="hash-link" aria-label="Direct link to v0.16.2" title="Direct link to v0.16.2">​</a></h2><ul><li>Fix loading tasks on Windows (use URLs rather than file paths) - thanks
@hiepxanh</li><li>Add <code>cleanup</code> function to remove unused queues, stale task identifiers, and
permanently failed jobs - thanks @christophemacabiau</li><li>Fix logger scope for workers - thanks @jcapcik</li><li>Add <code>helpers.getQueueName()</code> to retrieve the queue name of the currently
running job</li><li>Automatically retry certain internal operations on serialization failure or
deadlock detection (useful if you have changed your
<code>default_transaction_isolation</code> to <code>serializable</code> or similar)</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0161">v0.16.1<a href="#v0161" class="hash-link" aria-label="Direct link to v0.16.1" title="Direct link to v0.16.1">​</a></h2><ul><li>Fixes issue importing task files that were written in TypeScript ESM format
but exported as CommonJS.</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0160">v0.16.0<a href="#v0160" class="hash-link" aria-label="Direct link to v0.16.0" title="Direct link to v0.16.0">​</a></h2><p><em>There&#x27;s a breakdown of these release notes available on the new
<a href="https://worker.graphile.org/news/2023-12-11-016-release" target="_blank" rel="noopener noreferrer">Worker Website</a>, where
we go into more detail about the headline features.</em></p><p><strong>THIS RELEASE INTRODUCES SIGNIFICANT CHANGES</strong>, in preparation for moving
towards the 1.0 release. Please read these notes carefully.</p><p><strong>IMPORTANT</strong>: this release is incompatible with previous releases - do not run
earlier workers against this releases database schema or Bad Things will happen.
You should shut down all workers before migrating to this version, or use
<a href="https://worker.graphile.org/docs/pro" target="_blank" rel="noopener noreferrer">Worker Pro</a>. (If you&#x27;re upgrading from
v0.13.0, upgrade to v0.13.1-bridge.0 first and add the Worker Pro plugin to
that; deploy it across your fleet, and then proceed to upgrade to v0.16.0.)</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="general-migration-warnings">General Migration Warnings<a href="#general-migration-warnings" class="hash-link" aria-label="Direct link to General Migration Warnings" title="Direct link to General Migration Warnings">​</a></h3><ul><li>🚨 Drops support for node &lt;18<ul><li>As of 24th October 2023, Node 20 is the active LTS and Node 18 is
maintainence LTS; previous versions are no longer supported</li></ul></li><li>🚨 Renames all of the tables <code>graphile_worker.*</code> to
<code>graphile_worker._private_*</code><ul><li>We might change these tables in a patch release</li><li>This has always been the case, these are not a public interface</li><li>New naming makes it clear that you should not use them and should not rely
on their schema being stable</li></ul></li><li>🚨 Removes <code>maxContiguousErrors</code><ul><li>It wasn&#x27;t fit for purpose, so best to remove it for now</li><li>See #307 for more details</li></ul></li><li>🚨 Removes <code>--watch</code> and watch mode in general<ul><li>Now signal handling is improved and with people wanting to use ESM to define
modules, it&#x27;s finally time to remove the experimental watch mode</li><li>Use <code>node --watch</code> or <code>nodemon</code> or similar instead</li><li><code>crontab</code> file is also not watched, so be sure to watch that too!</li><li>Fixes a lot of weirdness that can happen when you attempt to hot-reload
tasks</li></ul></li><li>🚨 Breaking TypeScript changes<ul><li>Lots of <code>any</code> changed to <code>unknown</code><ul><li>In particular, errors in the event emitter payloads are now <code>unknown</code>
rather than <code>any</code>, so you might need to cast</li></ul></li><li>Payload is now marked as required in <code>addJob()</code><ul><li>Set to <code>{}</code> if your task doesn&#x27;t need a payload</li></ul></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_JmGV" id="new-features">New features<a href="#new-features" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3><ul><li>Graphile Config and new plugin system<ul><li>Worker is now optionally
<a href="https://worker.graphile.org/docs/config" target="_blank" rel="noopener noreferrer">configurable</a> with
<code>graphile-config</code> - configuration can now be read from a
<code>graphile.config.ts</code> (or <code>.js</code>, <code>.cjs</code>, etc) file</li><li>This enables a whole suite of new options and features, including being able
to share your preset files across multiple projects!</li><li>New plugin hooks added - get in touch if you need more!</li><li>E.g. allows you to replace the task loading code entirely with your own
implementation!</li></ul></li><li>Support for loading tasks from nested folders<ul><li>(<code>tasks/users/email/verify.js</code> will identify task <code>users/email/verify</code>)</li></ul></li><li>Native ESM support<ul><li>Enabled by the plugin system</li><li>Support for loading both CommonJS and ESM files (including <code>.cjs</code>, <code>.mjs</code>
and <code>.js</code> extensions)</li></ul></li><li>Compile-to-JS language support<ul><li>Any &quot;compile-to-JS&quot; language can be <code>import()</code>ed</li><li>Ensure the relevant &quot;loaders&quot; are available</li><li>e.g. for native TypeScript support you might use
<code>NODE_OPTIONS=&quot;--loader ts-node/esm&quot; npx graphile-worker</code></li><li>List the extensions you support in the
<a href="https://worker.graphile.org/docs/config#workerfileextensions" target="_blank" rel="noopener noreferrer">configuration file</a></li></ul></li><li>Tasks in non-JS languages (EXPERIMENTAL!)<ul><li>Enabled by the plugin system</li><li>Any language your shell can execute: python, bash, rust, ...</li><li>Place an executable file in the <code>tasks/</code> folder and ensure it&#x27;s named with
the task identifier (extensions ignored)</li><li>See
<a href="https://worker.graphile.org/docs/tasks#loading-executable-files" target="_blank" rel="noopener noreferrer">Loading executable files</a>
in the documentation</li></ul></li><li><code>abortSignal</code>: job cancellation (EXPERIMENTAL!)<ul><li>Tasks can honour the <code>abortSignal</code> passed in via helpers to cancel
asynchronous work on <code>gracefulShutdown</code></li><li>Can reduce waiting for the task to complete during a graceful shutdown; task
executor can listen for the <code>abortSignal</code> and decided whether to exit or
continue</li></ul></li><li>TypeScript typing of tasks<ul><li>New <code>GraphileWorker.Tasks</code> global interface</li><li>Not recommended, but often requested!</li><li>Types calls to <code>addJob()</code> and <code>quickAddJob()</code>, and types task executors</li><li>Read
<a href="https://worker.graphile.org/docs/typescript" target="_blank" rel="noopener noreferrer">the caveats in the documentation</a></li></ul></li><li>Adds <code>graphile_worker.jobs</code> view<ul><li>A public interface to view details of jobs</li><li>Stable across patch and minor versions</li><li>DELIBERATELY excludes the <code>payload</code> field</li><li>Do not poll this, it will impact performance</li><li>Do not do expensive filtering/ordering against this, it will impact
performance</li></ul></li><li>New public <code>force_unlock_workers</code> database function<ul><li>Unlocks all jobs from a list of crashed/terminated worker IDs</li></ul></li><li>Crontab: now supports <code>jobKey</code> and <code>jobKeyMode</code> opts (thanks @spiffytech!)</li><li>Schema<ul><li>Checks that current schema in database isn&#x27;t more up to date than the
current worker<ul><li>Won&#x27;t be useful until future schema changes</li></ul></li><li>Trigger a graceful shutdown if a new Graphile Worker process migrates the
database schema</li></ul></li><li>Events: add more detail to <code>cron:backfill</code> event</li><li>Tasks: now use <code>await import(...)</code> rather than <code>require(...)</code>, so ESM can be
imported</li><li>Logging: changed format of task completion/failure logs to include
attempts/max attempts and to reduce duplicate parenthesis</li><li>Optimization: Replaces job announcement trigger with calls directly in
<code>add_job</code> / <code>add_jobs</code> to reduce queuing overhead</li></ul><h3 class="anchor anchorWithStickyNavbar_JmGV" id="fixes">Fixes<a href="#fixes" class="hash-link" aria-label="Direct link to Fixes" title="Direct link to Fixes">​</a></h3><ul><li>Fixes graceful shutdown (both manually via <code>.gracefulShutdown()</code> or
<code>.forcefulShutdown()</code> and via signal handling)</li><li>Signals: now releases signal handlers when shut down via the API</li><li>Fixes bug where queuing 100 jobs in a single statement would only nudge a
single inactive worker<ul><li>Now as many workers as necessary and available will be nudged</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0152-bridge0">v0.15.2-bridge.0<a href="#v0152-bridge0" class="hash-link" aria-label="Direct link to v0.15.2-bridge.0" title="Direct link to v0.15.2-bridge.0">​</a></h2><p><strong>TL;DR: if you want to use <a href="https://worker.graphile.org/docs/pro" target="_blank" rel="noopener noreferrer">Worker Pro</a>
to ease migration to v0.16.0, upgrade to this version if you&#x27;re on v0.14.0 or
higher, or v0.13.1-bridge.0 if you&#x27;re on v0.13.0 or lower for Worker Pro
support.</strong></p><p>This release is a &quot;bridge&quot; release to make migration to v0.16.0 easier. Since
v0.16.0 includes breaking database changes, no active workers should be running
when the migrations happen, and once the migrations have happened older workers
are no longer supported and their usage may lead to weird and undesirable
behaviors.</p><p>Normally we&#x27;d recommend that you &quot;scale to zero&quot; before performing these kinds
of migrations, to ensure that no older workers will be running against the DB at
the same time; however this release adds support for the (proprietary)
<a href="https://worker.graphile.org/docs/pro" target="_blank" rel="noopener noreferrer">Worker Pro plugin</a> which (when used
consistently across your entire worker fleet) enables your workers to
coordinate, triggering legacy workers to cleanly shut down (and waiting for them
to do so) before migrating the database. The Worker Pro plugin also details the
intent to upgrade, meaning if new legacy workers start up in the interrim, they
will also not start looking for jobs since they know they will be out of date
soon. As soon as all running tasks have finished processing (or a configurable
timeout has elapsed) the migration will go ahead.</p><p>The Worker Pro plugin mentioned above is enabled by the addition of support for
<code>graphile-config</code>, the standardized plugin and preset system for the entire
Graphile suite. Thanks to this integration, we&#x27;ve been able to add a
plugin/hooks system that you can use to customize the behavior of Worker
(including implementing some of the behaviors described in the previous
paragraph yourself, should you so desire).</p><p>This release also adds a startup check that will abort startup if the database
already contains breaking migrations that are unsupported by the current worker
version, and a significant number of back-ported fixes and new features that
didn&#x27;t require database migrations (including important fixes to the graceful
shutdown system).</p><p><strong>IMPORTANT</strong>: <code>--watch</code> mode is no longer supported. We&#x27;ve removed this from
v0.16.0 (see the release notes for that version), you should use <code>node --watch</code>
or similar instead. This also removes <code>fauxRequire</code> and all the problems that
that had.</p><p><strong>IMPORTANT</strong>: Node versions before v20 and Postgres versions before v12 are no
longer supported. (Node v18 <em>should</em> work, but it segfaults when running the
tests which is likely a jest/<code>node --experimental-vm-modules</code> issue which is
unlikely affect you at runtime.)</p><ul><li>Fixes graceful shutdown (both manually via <code>.gracefulShutdown()</code> or
<code>.forcefulShutdown()</code> and via signal handling)</li><li>Removes <code>maxContinguousErrors</code> setting which was poorly implemented and caused
more issues than it solved</li><li>Tracks whether migrations are breaking or not, and:<ul><li>refuses to start if an unsupported breaking migration is present in the
database</li><li>gracefully shuts down if another worker performs a breaking migration<ul><li>NOTE: this is not sufficiently safe, it&#x27;s just a backstop. If the
migration breaks completing or failing of jobs then your worker will be
unable to release in-progress tasks even if they&#x27;re finished; and the
worker performing the migrations will not wait for legacy workers to
complete. You should shut down your workers before upgrading, or use
Worker Pro to handle the situation automatically for you.</li></ul></li></ul></li><li>Adds <code>graphile-config</code> support for presets and plugins</li><li>Adds more events and hooks</li><li><code>runTaskListOnce</code> now uses a WorkerPool internally (to better integrate with
the gracefulShutdown logic)</li><li>Fix <code>WorkerPool.promise</code> to only resolve once everything is handled</li><li>EXPERIMENTAL; see v0.16.0 for documentation:<ul><li>Adds support for loading tasks from nested folders (e.g.
<code>tasks/foo/bar/baz.js</code> will add support for a task with identifier
<code>foo/bar/baz</code>)</li><li>Adds support for turning executable files into tasks (i.e. a task written in
python, Rust, or bash)</li><li>Adds support for loading TypeScript tasks directly (no need to compile to
JS, but if you do the JS will have priority)</li><li>You may see warnings like
<code>WARNING: Failed to load task &#x27;README.md&#x27; - no supported handlers found for path: &#x27;/path/to/tasks/README.md&#x27;</code> -
you can ignore them (or you can move non-task files out of the <code>tasks</code>
folder)</li><li>Undocumented, experimental and untested preliminary support for cancellable
jobs via <code>AbortSignal</code>; upgrade to v0.16.0+ if you want to actually use this</li></ul></li><li>A huge number of internal changes</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0151">v0.15.1<a href="#v0151" class="hash-link" aria-label="Direct link to v0.15.1" title="Direct link to v0.15.1">​</a></h2><p>Fixes issues with graceful worker shutdowns:</p><ul><li>Deprecates <code>workerPool.release()</code> in favour of (equivalent)
<code>workerPool.gracefulShutdown()</code></li><li>Fixes <code>workerPool.gracefulShutdown()</code> to shut down gracefully (waiting for
jobs to complete)</li><li>Adds <code>workerPool.forcefulShutdown()</code> to &quot;fail&quot; the running jobs (so they&#x27;ll be
re-attempted elsewhere) and force-release the pool</li><li>Fixes handling of signals:<ul><li>First termination signal triggers graceful shutdown</li><li>Signal over next 5 seconds are ignored</li><li>Second termination signal triggers forceful shutdown</li><li>Signal over next 5 seconds are ignored</li><li>Further termination signals are handled by Node (i.e. will likely instantly
exit the process)</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0150">v0.15.0<a href="#v0150" class="hash-link" aria-label="Direct link to v0.15.0" title="Direct link to v0.15.0">​</a></h2><p>Migration files are no longer read from filesystem (via <code>fs</code> module); instead
they are stored as strings in JS to enable Graphile Worker to be bundled. The
files still exist and will continue to be distributed, so this should not be a
breaking change. Thanks to @timelf123 for this feature!</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0140">v0.14.0<a href="#v0140" class="hash-link" aria-label="Direct link to v0.14.0" title="Direct link to v0.14.0">​</a></h2><p><strong>THIS RELEASE INTRODUCES SIGNIFICANT CHANGES</strong>, in preparation for moving
towards the 1.0 release. Please read these notes carefully.</p><p><strong>IMPORTANT</strong>: this release is incompatible with previous releases - do not run
earlier workers against this releases database schema or Bad Things will happen.
You should shut down all workers before migrating to this version.</p><p><strong>IMPORTANT</strong>: the initial migration, <code>000011</code>, in this release cannot run if
there are any locked jobs - it will throw a &quot;division by zero&quot; error in this
case. Please ensure all existing workers are shut down and any locked jobs
released before upgrading to this version.</p><p><strong>IMPORTANT</strong>: migration <code>000011</code> renames the old jobs table, creates a new jobs
table with a slightly different format, copies the jobs across, and then deletes
the old jobs table. The jobs table itself is not a public interface - you should
use the documented SQL functions and TypeScript APIs only - but if you are
referencing the jobs table in a database function you may have a bad time.</p><p><strong>IMPORTANT</strong>: <code>priority</code>, <code>attempts</code> and <code>max_attempts</code> are all now <code>smallint</code>,
so please make sure that your values fit into these ranges before starting the
migration process. (Really these values should never be larger than about <code>100</code>
or smaller than about <code>-100</code> anyway.)</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="breaking-changes">Breaking changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking changes" title="Direct link to Breaking changes">​</a></h3><ul><li>BREAKING: Bump minimum Node version to 14 since 12.x is now end-of-life</li><li>BREAKING: Bump minimum PG version to 12 for <code>generated always as (expression)</code></li><li>BREAKING: <code>jobs.priority</code>, <code>attempts</code> and <code>max_attempts</code> are now <code>int2</code> rather
than <code>int4</code> (please ensure your values fit in <code>int2</code> -
<code>-32768 &lt;= priority &lt;= +32767</code>)</li><li>BREAKING: CronItem.pattern has been renamed to CronItem.match</li><li>BREAKING: database error codes have been removed because we&#x27;ve moved to
<code>CHECK</code> constraints</li></ul><h3 class="anchor anchorWithStickyNavbar_JmGV" id="changes-to-internals">Changes to internals<a href="#changes-to-internals" class="hash-link" aria-label="Direct link to Changes to internals" title="Direct link to Changes to internals">​</a></h3><ul><li>WARNING: the &#x27;jobs&#x27; table no longer has <code>queue_name</code> and <code>task_identifier</code>
columns; these have been replaced with <code>job_queue_id</code> and <code>task_id</code> which are
both <code>int</code>s</li><li>WARNING: many of the &quot;internal&quot; SQL functions (<code>get_job</code>, <code>fail_job</code>,
<code>complete_job</code>) have been moved to JS to allow for dynamic SQL generation for
improved performance/flexibility</li><li>WARNING: most of the triggers have been removed (for performance reasons), so
if you are inserting directly into the jobs table (don&#x27;t do that, it&#x27;s not a
supported interface!) make sure you update your code to be compatible</li></ul><h3 class="anchor anchorWithStickyNavbar_JmGV" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h3><ul><li>New &quot;batch jobs&quot; feature for merging payloads with a <code>job_key</code> (see README)</li><li>Significantly improved &#x27;large jobs table&#x27; performance (e.g. when a large queue
is locked, or there&#x27;s a lot of jobs queued for task identifiers your worker
instance doesn&#x27;t support, or a lot of failed jobs). Around 20x improvement in
this &#x27;worst case&#x27; performance for real user workloads.</li><li>Added new (experimental) much faster <code>add_jobs</code> batch API.</li><li>Fix error handling of cron issues in &#x27;run&#x27; method.</li><li>CronItem.match can now accept either a pattern string or a matcher function</li><li>Jobs that were locked more than 4 hours will be reattempted as before, however
they are slightly de-prioritised by virtue of having their <code>run_at</code> updated,
giving interim jobs a chance to be executed (and lessening the impact of queue
stalling through hanging tasks).</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0131-bridge0">v0.13.1-bridge.0<a href="#v0131-bridge0" class="hash-link" aria-label="Direct link to v0.13.1-bridge.0" title="Direct link to v0.13.1-bridge.0">​</a></h2><p><strong>TL;DR: if you want to use <a href="https://worker.graphile.org/docs/pro" target="_blank" rel="noopener noreferrer">Worker Pro</a>
to ease migration to v0.16.0, upgrade to this version for Worker Pro support.</strong></p><p>This release is a &quot;bridge&quot; release to make migration to v0.14.0 and v0.16.0
easier. Since v0.14.0 and v0.16.0 include breaking database changes, no active
workers should be running when the migrations happen, and once the migrations
have happened older workers are no longer supported and their usage may lead to
weird and undesirable behaviors.</p><p>Normally we&#x27;d recommend that you &quot;scale to zero&quot; before performing these kinds
of migrations, to ensure that no older workers will be running against the DB at
the same time; however this release adds support for the (proprietary)
<a href="https://worker.graphile.org/docs/pro" target="_blank" rel="noopener noreferrer">Worker Pro plugin</a> which (when used
consistently across your entire worker fleet) enables your workers to
coordinate, triggering legacy workers to cleanly shut down (and waiting for them
to do so) before migrating the database. The Worker Pro plugin also details the
intent to upgrade, meaning if new legacy workers start up in the interrim, they
will also not start looking for jobs since they know they will be out of date
soon. As soon as all running tasks have finished processing (or a configurable
timeout has elapsed) the migration will go ahead.</p><p>The Worker Pro plugin mentioned above is enabled by the addition of support for
<code>graphile-config</code>, the standardized plugin and preset system for the entire
Graphile suite. Thanks to this integration, we&#x27;ve been able to add a
plugin/hooks system that you can use to customize the behavior of Worker
(including implementing some of the behaviors described in the previous
paragraph yourself, should you so desire).</p><p>This release also adds a startup check that will abort startup if the database
already contains breaking migrations that are unsupported by the current worker
version, and a significant number of back-ported fixes and new features that
didn&#x27;t require database migrations (including important fixes to the graceful
shutdown system).</p><p><strong>IMPORTANT</strong>: <code>--watch</code> mode is no longer supported. We&#x27;ve removed this from
v0.16.0 (see the release notes for that version), you should use <code>node --watch</code>
or similar instead. This also removes <code>fauxRequire</code> and all the problems that
that had.</p><p><strong>IMPORTANT</strong>: Node versions before v20 and Postgres versions before v12 are no
longer supported. (Node v18 <em>should</em> work, but it segfaults when running the
tests which is likely a jest/<code>node --experimental-vm-modules</code> issue which is
unlikely affect you at runtime.)</p><ul><li>Fixes graceful shutdown (both manually via <code>.gracefulShutdown()</code> or
<code>.forcefulShutdown()</code> and via signal handling)</li><li>Removes <code>maxContinguousErrors</code> setting which was poorly implemented and caused
more issues than it solved</li><li>Tracks whether migrations are breaking or not, and:<ul><li>refuses to start if an unsupported breaking migration is present in the
database</li><li>gracefully shuts down if another worker performs a breaking migration<ul><li>NOTE: this is not sufficiently safe, it&#x27;s just a backstop. If the
migration breaks completing or failing of jobs then your worker will be
unable to release in-progress tasks even if they&#x27;re finished; and the
worker performing the migrations will not wait for legacy workers to
complete. You should shut down your workers before upgrading, or use
Worker Pro to handle the situation automatically for you.</li></ul></li></ul></li><li>Adds <code>graphile-config</code> support for presets and plugins</li><li>Adds more events and hooks</li><li>Uses JS-ified SQL migrations to help workaround some bundling issues</li><li><code>runTaskListOnce</code> now uses a WorkerPool internally (to better integrate with
the gracefulShutdown logic)</li><li>Fix <code>WorkerPool.promise</code> to only resolve once everything is handled</li><li>EXPERIMENTAL; see v0.16.0 for documentation:<ul><li>Adds support for loading tasks from nested folders (e.g.
<code>tasks/foo/bar/baz.js</code> will add support for a task with identifier
<code>foo/bar/baz</code>)</li><li>Adds support for turning executable files into tasks (i.e. a task written in
python, Rust, or bash)</li><li>Adds support for loading TypeScript tasks directly (no need to compile to
JS, but if you do the JS will have priority)</li><li>You may see warnings like
<code>WARNING: Failed to load task &#x27;README.md&#x27; - no supported handlers found for path: &#x27;/path/to/tasks/README.md&#x27;</code> -
you can ignore them (or you can move non-task files out of the <code>tasks</code>
folder)</li><li>Undocumented, experimental and untested preliminary support for cancellable
jobs via <code>AbortSignal</code>; upgrade to v0.16.0+ if you want to actually use this</li></ul></li><li>A huge number of internal changes</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0130">v0.13.0<a href="#v0130" class="hash-link" aria-label="Direct link to v0.13.0" title="Direct link to v0.13.0">​</a></h2><ul><li>Remove dependency on <code>pgcrypto</code> database extension (thanks @noinkling)<ul><li>If you have a pre-existing installation and wish to uninstall <code>pgcrypto</code> you
will need to do so manually. This can be done by running
<code>DROP EXTENSION pgcrypto;</code> <em>after</em> updating to the latest schema.</li></ul></li><li>The <code>jobs.queue_name</code> column no longer has a default value (this is only
relevant to people inserting into the table directly, which is not
recommended - use the <code>add_job</code> helper)</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0122">v0.12.2<a href="#v0122" class="hash-link" aria-label="Direct link to v0.12.2" title="Direct link to v0.12.2">​</a></h2><ul><li>Fix issue when a connect error occurs whilst releasing worker (thanks
@countcain)</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0121">v0.12.1<a href="#v0121" class="hash-link" aria-label="Direct link to v0.12.1" title="Direct link to v0.12.1">​</a></h2><ul><li>Jobs with no queue are now released during graceful shutdown (thanks @olexiyb)</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0120">v0.12.0<a href="#v0120" class="hash-link" aria-label="Direct link to v0.12.0" title="Direct link to v0.12.0">​</a></h2><ul><li>Run shutdown actions in reverse order (rather than parallel) - more stable
release</li><li>When an error occurs with the new job listener, reconnection attempts now
follow an exponential back-off pattern</li><li>Allow using Node.js time rather than PostgreSQL time (particularly useful for
tests)</li><li>Refactoring of some cron internals</li><li>Add <code>noPreparedStatements</code> to the docs</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0114">v0.11.4<a href="#v0114" class="hash-link" aria-label="Direct link to v0.11.4" title="Direct link to v0.11.4">​</a></h2><ul><li>Fixes bug in crontab day-of-week check</li><li>Exposes <code>parseCronItem</code> helper</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0113">v0.11.3<a href="#v0113" class="hash-link" aria-label="Direct link to v0.11.3" title="Direct link to v0.11.3">​</a></h2><ul><li>Restores <code>Logger</code> export accidentally removed in v0.11.0</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0112">v0.11.2<a href="#v0112" class="hash-link" aria-label="Direct link to v0.11.2" title="Direct link to v0.11.2">​</a></h2><ul><li>Added support for wider range of <code>@types/pg</code> dependency</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0111">v0.11.1<a href="#v0111" class="hash-link" aria-label="Direct link to v0.11.1" title="Direct link to v0.11.1">​</a></h2><ul><li>Handles unexpected errors whilst PostgreSQL client is idle</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0110">v0.11.0<a href="#v0110" class="hash-link" aria-label="Direct link to v0.11.0" title="Direct link to v0.11.0">​</a></h2><ul><li>Export <code>getCronItems</code> so library-mode users can watch the crontab file</li><li>Replace <code>Logger</code> with new
<a href="https://github.com/graphile/logger" target="_blank" rel="noopener noreferrer"><code>@graphile/logger</code></a> module</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v0100">v0.10.0<a href="#v0100" class="hash-link" aria-label="Direct link to v0.10.0" title="Direct link to v0.10.0">​</a></h2><ul><li>No longer exit on SIGPIPE (Node will swallow this error code)</li><li>Fix issue with error handling on PostgreSQL restart or <code>pg_terminate_backend</code></li><li>Fix a potential unhandled promise rejection</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v090">v0.9.0<a href="#v090" class="hash-link" aria-label="Direct link to v0.9.0" title="Direct link to v0.9.0">​</a></h2><ul><li>New (experimental) &quot;cron&quot; functionality for regularly scheduled jobs</li><li>Replace jobs ordering index for improved performance (thanks @ben-pr-p)<ul><li>NOTE: this migration might take a moment if you have a large jobs table</li></ul></li><li>New events system lets you monitor what&#x27;s going on inside Graphile Worker</li><li>New <code>job_key_mode</code> setting; see README for full details, but summary:<ul><li>defaults to <code>replace</code> (existing behavior, i.e. debouncing)</li><li>if set to <code>preserve_run_at</code> it will preserve <code>run_at</code> which effectively
changes it from debouncing to throttling</li><li>if set to <code>unsafe_dedupe</code> it will not update the attributes when an existing
job with that job key exists, even if that job is already running</li></ul></li><li><code>remove_job</code> now prevents locked jobs from running again on error (and removes
their key)</li><li>Dependency updates</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v081">v0.8.1<a href="#v081" class="hash-link" aria-label="Direct link to v0.8.1" title="Direct link to v0.8.1">​</a></h2><ul><li>Fix issue with cyclic requires in watch mode</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v080">v0.8.0<a href="#v080" class="hash-link" aria-label="Direct link to v0.8.0" title="Direct link to v0.8.0">​</a></h2><ul><li>Track revision count for jobs (thanks @lukeramsden)</li><li><a href="https://github.com/graphile/worker#forbidden-flags" target="_blank" rel="noopener noreferrer">&quot;Forbidden flags&quot;</a>
feature for rate limiting (thanks @ben-pr-p)</li><li>Fix incorrect description of priority - numerically smaller numbers run first
(thanks @ben-pr-p)</li><li>Add support for <code>PG*</code><a href="https://www.postgresql.org/docs/current/libpq-envars.html" target="_blank" rel="noopener noreferrer">PostgreSQL envvars</a></li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v072">v0.7.2<a href="#v072" class="hash-link" aria-label="Direct link to v0.7.2" title="Direct link to v0.7.2">​</a></h2><ul><li>Add <code>--no-prepared-statements</code> flag to allow disabling of prepared statements
for pgBouncer compatibility.</li><li>Fix issue in watch mode where files <code>require()</code>d from inside a task are cached
permanently.</li></ul><p>(v0.7.0 and v0.7.1 had issues with the experimental watch mode enhancements, so
were never upgraded to <code>@latest</code>.)</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v061">v0.6.1<a href="#v061" class="hash-link" aria-label="Direct link to v0.6.1" title="Direct link to v0.6.1">​</a></h2><ul><li>Official Docker image (thanks @madflow)</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v060">v0.6.0<a href="#v060" class="hash-link" aria-label="Direct link to v0.6.0" title="Direct link to v0.6.0">​</a></h2><ul><li>Use target es2018 for TypeScript (Node v10 supports everything we need)
(thanks @keepitsimple)</li><li>When task promise is rejected with non-Error, use a fallback (thanks
@parker-torii)</li><li>Support <code>pg@8.x</code> and hence Node v14 (thanks @purge)</li><li>Fix mistake in README</li><li>General maintenance</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v050">v0.5.0<a href="#v050" class="hash-link" aria-label="Direct link to v0.5.0" title="Direct link to v0.5.0">​</a></h2><p>New &quot;Administrative functions&quot;, ability to rename <code>graphile_worker</code> schema, and
significant overhaul of the codebase in preparation for going to v1.0.</p><h3 class="anchor anchorWithStickyNavbar_JmGV" id="v050-improvements">v0.5.0 improvements:<a href="#v050-improvements" class="hash-link" aria-label="Direct link to v0.5.0 improvements:" title="Direct link to v0.5.0 improvements:">​</a></h3><ul><li>Added &quot;Administrative functions&quot; to complete, reschedule or fail jobs in bulk
(good for UIs)</li><li>Added <code>noHandleSignals</code> option to disable our signal handling (if you enable
this, make sure you use your own signal handling!)</li><li>Ability to rename <code>graphile_worker</code> schema</li><li>Added <code>cosmiconfig</code> for configuration (very few options support this
currently)</li><li>Decrease already negligible chance of worker ID collision (use
<code>crypto.randomBytes()</code> rather than <code>Math.random()</code>)</li></ul><h3 class="anchor anchorWithStickyNavbar_JmGV" id="v050-breaking-changes">v0.5.0 breaking changes:<a href="#v050-breaking-changes" class="hash-link" aria-label="Direct link to v0.5.0 breaking changes:" title="Direct link to v0.5.0 breaking changes:">​</a></h3><p><strong>CLI users</strong>: no breaking changes.</p><p><strong>Library users</strong>: none of the documented (in the README) APIs are affected,
except <code>runTaskListOnce</code> and some tiny tweaks to TypeScript types.</p><p>The ability to override the SQL schema means that everything in the codebase
needs to know this setting. To achieve this:</p><ul><li>all major APIs now accept <code>options</code> as a configuration parameter</li><li>where this was optional before it is now required</li><li>where options was not the first argument, it has been moved to the first
argument (for consistency)</li></ul><p>As such the following APIs (most of which are internal) have been changed:</p><ul><li><code>getTasks(taskPath, watch, logger)</code> -&gt; <code>getTasks(options, taskPath, watch)</code></li><li><code>runTaskList(tasks, pgPool, options?)</code> -&gt;
<code>runTaskList(options, tasks, pgPool)</code></li><li><code>runTaskListOnce(tasks, client, options?)</code> -&gt;
<code>runTaskList(options, tasks, client)</code></li><li><code>migrate(client)</code> -&gt; <code>migrate(options, client)</code></li><li><code>makeAddJob(withPgClient)</code> -&gt; <code>makeAddJob(options, withPgClient)</code></li><li><code>makeJobHelpers(job, { withPgClient }, baseLogger)</code> -&gt;
<code>makeJobHelpers(options, job, { withPgClient, logger? })</code></li><li><code>makeNewWorker(tasks, withPgClient, options, continuous)</code> -&gt;
<code>makeNewWorker(options, tasks, withPgClient, continuous)</code></li></ul><p>Also if you&#x27;re a TypeScript user: we&#x27;ve renamed <code>WorkerSharedOptions</code> to
<code>SharedOptions</code> and added a new <code>WorkerSharedOptions</code>. This is particularly
relevant if you&#x27;re using the <code>WorkerUtils</code> class. We&#x27;ve also tweaked what
options are available on each of these, but this is unlikely to affect you
negatively.</p><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v040">v0.4.0<a href="#v040" class="hash-link" aria-label="Direct link to v0.4.0" title="Direct link to v0.4.0">​</a></h2><p>Performance improvements and ability to efficiently queue jobs from JS.</p><p>BREAKING CHANGES:</p><ul><li>TypeScript:<ul><li>the ID of a job is a <code>string</code> (database <code>bigint</code>), we previously incorrectly
stated it was a <code>number</code>.</li><li><code>Helpers</code> was renamed to <code>JobHelpers</code></li><li><code>TaskOptions</code> was renamed to <code>TaskSpec</code></li></ul></li><li><code>queue_name</code> is now nullable (leave it null for maximum parallel performance)</li><li>when a job is modified using a <code>job_key</code>, the <code>queue_name</code> attribute is now
reset like the other attributes</li></ul><p>WARNINGS:</p><ul><li>The database schema has changed; your code should not depend on the database
schema, only on the public interfaces (<code>add_job</code>, <code>remove_job</code>, etc), so this
shouldn&#x27;t be an issue.</li></ul><p>New features:</p><ul><li>Significantly enhanced performance<ul><li>Changes database schema such that a job_queue record is only added/checked
when necessary</li><li>Uses prepared statements</li><li>Can override the PostgreSQL pool size on the CLI (via <code>--max-pool-size</code>)</li></ul></li><li>Dedicated API for queueing jobs from JavaScript/TypeScript (<code>makeWorkerUtils</code>
/ <code>quickAddJob</code>; @mrmurphy, @benjie #60)</li><li><code>--once</code> now respects <code>--jobs</code>, so it can run jobs in parallel</li><li><code>jobKey</code> is now available via TypeScript API (@tim-field, #78)</li></ul><p>Other:</p><ul><li>Overhauled the <code>perfTest</code> script</li><li>Upgraded dependencies</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v030-rc0">v0.3.0-rc.0<a href="#v030-rc0" class="hash-link" aria-label="Direct link to v0.3.0-rc.0" title="Direct link to v0.3.0-rc.0">​</a></h2><p>v0.3.0-rc.0 was never released as v0.3.0 because we jumped to v0.4.0 too soon.</p><p>New features:</p><ul><li><code>job_key</code> enables existing jobs to be updated and deleted; can also be used
for de-duplication (@gregplaysguitar, @benjie #63)</li></ul><p>Fixes:</p><ul><li>Fixes <code>runner.stop()</code> (@MarkCBall, #66)</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v020">v0.2.0<a href="#v020" class="hash-link" aria-label="Direct link to v0.2.0" title="Direct link to v0.2.0">​</a></h2><p>BREAKING CHANGES:</p><ul><li>The <code>debug</code> task helper has been replaced with a <code>logger</code> helper which is a
<code>Logger</code> instance (see README)</li><li>The <code>-1</code> shortcut for &quot;run once&quot; never worked; it has been removed</li><li>Unrecognised command-line arguments will now cause an error to be thrown</li></ul><p>New features:</p><ul><li>Added <code>--schema-only</code> CLI flag for installing/updating the schema (running
migrations) only</li><li>It&#x27;s now possible to override how logs are output by supplying a <code>logFactory</code>
(see README)</li><li><code>query</code> helper reduces boilerplate</li></ul><p>Fixes:</p><ul><li>We never needed <code>uuid-ossp</code> so we&#x27;ve removed the requirement (you may want to
remove the extension from your DB manually)</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v010">v0.1.0<a href="#v010" class="hash-link" aria-label="Direct link to v0.1.0" title="Direct link to v0.1.0">​</a></h2><ul><li>Add database &#x27;error&#x27; handler to avoid crashes (@madflow #26)</li><li><code>DATABASE_URL</code> can now be used in place of <code>connectionString</code> (@madflow,
@benjie <del>#20</del> #27)</li><li>Improve documentation (@madflow, @archlemon, @benjie #11 #18 #31 #33)</li><li>Improve testing (@madflow #19 #30)</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v010-alpha0">v0.1.0-alpha.0<a href="#v010-alpha0" class="hash-link" aria-label="Direct link to v0.1.0-alpha.0" title="Direct link to v0.1.0-alpha.0">​</a></h2><p>Now usable as a library as well as a CLI.</p><p>Changes:</p><ul><li>Renamed a number of internals<ul><li><code>start</code> -&gt; <code>runTaskList</code></li><li><code>runAllJobs</code> -&gt; <code>runTaskListOnce</code></li><li><code>workerCount</code> -&gt; <code>concurrency</code></li></ul></li><li>Add an easy way to run as a library (<code>run</code> and <code>runOnce</code> methods)</li><li>CLI code reduced as it uses new library code</li><li>Implemented linting</li><li>Exported more methods</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v001-alpha7">v0.0.1-alpha.7<a href="#v001-alpha7" class="hash-link" aria-label="Direct link to v0.0.1-alpha.7" title="Direct link to v0.0.1-alpha.7">​</a></h2><ul><li>Add missing <code>tslib</code> dependency</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v001-alpha6">v0.0.1-alpha.6<a href="#v001-alpha6" class="hash-link" aria-label="Direct link to v0.0.1-alpha.6" title="Direct link to v0.0.1-alpha.6">​</a></h2><ul><li>make poll interval configurable</li><li>overhaul TypeScript types/interfaces</li><li>more docs</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v001-alpha5">v0.0.1-alpha.5<a href="#v001-alpha5" class="hash-link" aria-label="Direct link to v0.0.1-alpha.5" title="Direct link to v0.0.1-alpha.5">​</a></h2><ul><li>Fix casting (REQUIRES DB RESET)</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v001-alpha4">v0.0.1-alpha.4<a href="#v001-alpha4" class="hash-link" aria-label="Direct link to v0.0.1-alpha.4" title="Direct link to v0.0.1-alpha.4">​</a></h2><ul><li>add <code>addJob</code> helper</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v001-alpha3">v0.0.1-alpha.3<a href="#v001-alpha3" class="hash-link" aria-label="Direct link to v0.0.1-alpha.3" title="Direct link to v0.0.1-alpha.3">​</a></h2><ul><li>Travis CI</li><li>Add <code>index.js</code></li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v001-alpha2">v0.0.1-alpha.2<a href="#v001-alpha2" class="hash-link" aria-label="Direct link to v0.0.1-alpha.2" title="Direct link to v0.0.1-alpha.2">​</a></h2><ul><li>Docs</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v001-alpha1">v0.0.1-alpha.1<a href="#v001-alpha1" class="hash-link" aria-label="Direct link to v0.0.1-alpha.1" title="Direct link to v0.0.1-alpha.1">​</a></h2><ul><li>More efficient job trigger</li><li>Reduce latency</li></ul><h2 class="anchor anchorWithStickyNavbar_JmGV" id="v001-alpha0">v0.0.1-alpha.0<a href="#v001-alpha0" class="hash-link" aria-label="Direct link to v0.0.1-alpha.0" title="Direct link to v0.0.1-alpha.0">​</a></h2><p>Initial release.</p></article></div><div class="col col--2"><div class="tableOfContents_XG6w thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#worker-pro-easing-migration" class="table-of-contents__link toc-highlight">Worker Pro: easing migration</a></li><li><a href="#pending" class="table-of-contents__link toc-highlight">Pending</a></li><li><a href="#v0166" class="table-of-contents__link toc-highlight">v0.16.6</a></li><li><a href="#v0165" class="table-of-contents__link toc-highlight">v0.16.5</a></li><li><a href="#v0164" class="table-of-contents__link toc-highlight">v0.16.4</a></li><li><a href="#v0163" class="table-of-contents__link toc-highlight">v0.16.3</a></li><li><a href="#v0162" class="table-of-contents__link toc-highlight">v0.16.2</a></li><li><a href="#v0161" class="table-of-contents__link toc-highlight">v0.16.1</a></li><li><a href="#v0160" class="table-of-contents__link toc-highlight">v0.16.0</a></li><li><a href="#v0152-bridge0" class="table-of-contents__link toc-highlight">v0.15.2-bridge.0</a></li><li><a href="#v0151" class="table-of-contents__link toc-highlight">v0.15.1</a></li><li><a href="#v0150" class="table-of-contents__link toc-highlight">v0.15.0</a></li><li><a href="#v0140" class="table-of-contents__link toc-highlight">v0.14.0</a></li><li><a href="#v0131-bridge0" class="table-of-contents__link toc-highlight">v0.13.1-bridge.0</a></li><li><a href="#v0130" class="table-of-contents__link toc-highlight">v0.13.0</a></li><li><a href="#v0122" class="table-of-contents__link toc-highlight">v0.12.2</a></li><li><a href="#v0121" class="table-of-contents__link toc-highlight">v0.12.1</a></li><li><a href="#v0120" class="table-of-contents__link toc-highlight">v0.12.0</a></li><li><a href="#v0114" class="table-of-contents__link toc-highlight">v0.11.4</a></li><li><a href="#v0113" class="table-of-contents__link toc-highlight">v0.11.3</a></li><li><a href="#v0112" class="table-of-contents__link toc-highlight">v0.11.2</a></li><li><a href="#v0111" class="table-of-contents__link toc-highlight">v0.11.1</a></li><li><a href="#v0110" class="table-of-contents__link toc-highlight">v0.11.0</a></li><li><a href="#v0100" class="table-of-contents__link toc-highlight">v0.10.0</a></li><li><a href="#v090" class="table-of-contents__link toc-highlight">v0.9.0</a></li><li><a href="#v081" class="table-of-contents__link toc-highlight">v0.8.1</a></li><li><a href="#v080" class="table-of-contents__link toc-highlight">v0.8.0</a></li><li><a href="#v072" class="table-of-contents__link toc-highlight">v0.7.2</a></li><li><a href="#v061" class="table-of-contents__link toc-highlight">v0.6.1</a></li><li><a href="#v060" class="table-of-contents__link toc-highlight">v0.6.0</a></li><li><a href="#v050" class="table-of-contents__link toc-highlight">v0.5.0</a></li><li><a href="#v040" class="table-of-contents__link toc-highlight">v0.4.0</a></li><li><a href="#v030-rc0" class="table-of-contents__link toc-highlight">v0.3.0-rc.0</a></li><li><a href="#v020" class="table-of-contents__link toc-highlight">v0.2.0</a></li><li><a href="#v010" class="table-of-contents__link toc-highlight">v0.1.0</a></li><li><a href="#v010-alpha0" class="table-of-contents__link toc-highlight">v0.1.0-alpha.0</a></li><li><a href="#v001-alpha7" class="table-of-contents__link toc-highlight">v0.0.1-alpha.7</a></li><li><a href="#v001-alpha6" class="table-of-contents__link toc-highlight">v0.0.1-alpha.6</a></li><li><a href="#v001-alpha5" class="table-of-contents__link toc-highlight">v0.0.1-alpha.5</a></li><li><a href="#v001-alpha4" class="table-of-contents__link toc-highlight">v0.0.1-alpha.4</a></li><li><a href="#v001-alpha3" class="table-of-contents__link toc-highlight">v0.0.1-alpha.3</a></li><li><a href="#v001-alpha2" class="table-of-contents__link toc-highlight">v0.0.1-alpha.2</a></li><li><a href="#v001-alpha1" class="table-of-contents__link toc-highlight">v0.0.1-alpha.1</a></li><li><a href="#v001-alpha0" class="table-of-contents__link toc-highlight">v0.0.1-alpha.0</a></li></ul></div></div></div></main></div><div class="imageContainer_YTvs"><svg xmlns="http://www.w3.org/2000/svg" width="128.571" height="20" viewBox="0 0 128.571 20" class="footerImage_MfGH"><title>Three ants crawling atop the footer</title><path fill="303846" d="M.192 7.573c.211-.43.563-.603.958-.707 1.2-.318 2.405-.29 3.614-.052.673.133 1.344.284 2.022.38.4.057.812.012 1.218.034 1.16.061 2.31.18 3.362.739.017.009.05-.015.114-.037-.423-.544-.986-.81-1.621-.956-1.355-.31-2.703-.665-4.071-.906-.67-.117-1.376-.02-2.103-.02.182-.09.374-.261.574-.271a7.785 7.785 0 0 1 1.524.05c1.057.157 2.104.38 3.158.553.984.16 1.77.7 2.551 1.26.104.074.204.154.225.17.622-.283 1.165-.638 1.757-.767.505-.11 1.085-.036 1.598.09.691.172 1.064.688 1.091 1.422.004.109.024.217.049.435.196-.167.343-.263.453-.39.582-.676 1.264-.868 2.114-.539.788.306 1.512.678 2.057 1.426.042-.398.064-.8.136-1.192.037-.199.165-.38.252-.57.082.192.212.38.236.579.057.467.063.94.093 1.451l.596.153c.06-.309.11-.585.167-.86.045-.22.104-.41.402-.403.305.007.497.128.547.428.067.408.117.82.176 1.229.01.067.034.132.082.317.077-.19.122-.278.149-.372.266-.934.515-1.873.802-2.8.1-.323.303-.613.444-.925.18-.4.471-.406.76-.174.462.373.892.788 1.373 1.218.436-.24.82-.026 1.119.372.342.456.644.942.973 1.408.087.122.192.25.318.324 1.938 1.145 3.029 2.775 2.959 5.09a.898.898 0 0 0 .126.477c.538.86 1.068 1.728 1.652 2.557.6.853 1.455 1.252 2.507 1.205.23-.01.46-.001.662.045-.317.085-.63.209-.952.244-.26.027-.556.007-.791-.095-.763-.333-1.485-.719-1.915-1.504-.315-.575-.704-1.11-1.063-1.662-.121-.187-.253-.368-.413-.6-.427.935-1.172 1.116-2.052 1.072-1.786-.09-3.354-.707-4.646-1.94-.354-.337-.641-.295-1.001-.12-.088.043-.18.074-.302.124.123.917.244 1.836.37 2.754.082.593.122 1.199.279 1.772.093.34.377.627.558.911-.083-.05-.281-.11-.378-.244-.157-.215-.302-.468-.355-.724-.268-1.292-.505-2.59-.751-3.886-.032-.167-.052-.336-.066-.43-.402-.116-.75-.22-1.1-.315a.33.33 0 0 0-.19.01c-.935.351-1.606.098-1.866-.855-.216-.79-.852-1.31-1.116-2.05-.01-.026-.066-.036-.19-.101.051.169.072.265.108.355.219.543.454 1.08.653 1.63.045.125.02.348-.064.424-.074.067-.316.045-.417-.03a27.973 27.973 0 0 1-1.681-1.315c-.425-.366-.746-.875-1.406-.901-.08.556-.119 1.099-.242 1.621-.2.848-.453 1.683-.689 2.522a.525.525 0 0 1-.121.224c-.725.72-.745 1.698-.977 2.602-.086.337-.224.68-.42.966-.286.417-.574.425-1.047.193-.167-.082-.38-.07-.63-.11-.005-.186.137-.293.394-.249.153.026.302.145.446.134.223-.015.55-.038.637-.178.234-.378.434-.806.52-1.24.147-.749.161-1.497.56-2.216.305-.55.305-1.267.462-1.905.185-.749.38-1.496.6-2.236.084-.282.264-.534.375-.81.045-.114.022-.255.03-.383-.158.046-.388.043-.458.147-.138.208-.162.489-.281.714-.371.698-.764 1.385-1.15 2.076-.006.012-.017.027-.029.03-.714.198-.647.84-.802 1.37-.194.668-.5 1.281-1.098 1.695-.368.255-.733.352-1.154.081-.139-.089-.355-.058-.545-.084.018-.282.145-.364.458-.185.249.14.466.354.778.157.395-.25.815-.463.96-.973.17-.589.24-1.269.59-1.73.777-1.022.855-2.354 1.693-3.324l-.092-.087c-.276.148-.55.301-.828.445-.815.418-1.626.607-2.591.495-.779-.09-1.593.272-2.1 1.017-.074.107-.191.184-.288.275-.087-.118-.242-.233-.248-.356-.015-.319-.013-.655.074-.958.087-.302.242-.611.45-.843.174-.195.468-.283.625-.372.07-.288.108-.552.2-.795.065-.168.199-.313.313-.46.45-.578.455-.692-.268-.9a6.814 6.814 0 0 0-1.98-.282c-1.656.03-3.272-.213-4.877-.556-1.153-.247-2.243-.105-3.305.374-.078.035-.154.074-.234.105-.023.009-.054-.001-.139-.006zm25.4-.862c-.459.846-.572 1.739-.761 2.646.463-.157.907-.23 1.253-.452.256-.166.592-.594.53-.79-.167-.523-.454-1.041-1.022-1.404zm2.224 1.324c-.298.322-.277.366.319.709l-.32-.709zm65.459 2.278c1.455-1.498 3.416-1.454 5.172-1.965.304-.088.637-.068.948-.137.198-.044.377-.164.568-.242.514-.21 1.015-.49 1.55-.597.363-.073.774.099 1.185.164-.204.237-.337.387-.465.54-.457.552-.913 1.06-1.702 1.18a5.41 5.41 0 0 0-2.357.98c-.477.344-.793.793-.904 1.373-.027.138.003.286.076.466.46-.877.967-1.673 1.909-2.083.884-.385 1.79-.625 2.869-.564-.144.341-.23.699-.425.979-.592.845-.78 1.754-.448 2.569.25-.152.49-.311.743-.45.545-.297 1.12-.45 1.747-.549 1.393-.22 2.748-.627 3.885-1.523.21-.166.373-.417.499-.66.226-.44.764-.64 1.192-.387.193.114.355.279.546.395.176.107.372.18.493.237l.348 1.109-.878.14c-.667.108-1.177.378-1.385 1.102a89.629 89.629 0 0 1-1.128 3.61c-.383 1.149-.776 2.297-1.23 3.419-1.102.88-.198.795.624-.51.179-.547.286-1.12.493-1.655.277-.718.667-1.394.922-2.118.32-.908.553-1.847.836-2.816l.452-.002c-.179.73.29 1.214.598 1.724.514.847 1.119 1.639 1.685 2.454.024.034.057.07.061.108.09.735.598 1.217 1.032 1.751.566 2.628.98.97.18-.253-.319-.442-.62-.9-.89-1.373-.115-.204-.202-.493.19-.555-.395-.556-.778-1.116-1.184-1.658-.41-.549-.844-1.08-1.288-1.646.179-.284.438-.388.8-.279.709.213 1.42.237 2.102-.082.394-.184.79-.392.86-.9a.266.266 0 0 1 .082-.144c.349-.323.246-.648-.077-1.034l.603.195c.102.486.22.947.281 1.415.017.127-.114.317-.23.408-.22.17-.477.294-.722.43-.208.116-.439.2-.63.337-1.013.727-1.046.825-.67 2.009.16.509.297 1.036.538 1.507.343.67.731 1.325 1.176 1.93.388 1.71.92.873.279.11-.281-.425-.436-.938-.62-1.421-.345-.902-.67-1.812-1.046-2.833.18-.065.429-.204.693-.242.983-.139 1.767-.77 1.733-1.659-.025-.67.508-1.074.537-1.674 0-.03.085-.056.174-.111.075.204.135.385.206.56.17.419.418.727.93.713.13-.003.266.072.392.127.401.172.651.055.755-.37.033-.136.04-.278.06-.418.02-.138.042-.276.076-.491.275.346.493.664.756.94.326.343.691.65 1.036.977.12.114.242.23.335.366.262.382.476.802.772 1.155.254.301.61.514.893.794.296.293.58.602.832.933.72.948 1.403 1.924 2.138 2.86.238.302.573.54.896.76.401.272.752.22 1.044-.09-.937-.074-1.58-.685-2.101-1.343-.921-1.163-1.733-2.413-2.588-3.629-.158-.225-.3-.46-.47-.72.63.244 1.209.488 1.8.694.746.26 1.516.278 2.292.163.137-.021.28-.034.417-.021.293.026.415-.063.457-.387.037-.292.221-.566.352-.876l.304.104c.093.03.207.107.278.079.34-.135.673-.292.998-.46.044-.023.073-.183.04-.222-.054-.065-.189-.137-.245-.111-.198.091-.424.187-.551.349-.196.25-.385.212-.629.128-.283-.097-.163-.286-.164-.477-.004-.459.03-.942-.099-1.371-.44-1.474-1.274-2.72-2.594-3.521-.812-.494-1.319-1.178-1.8-1.941a12.09 12.09 0 0 0-1.007-1.349c-.654-.773-1.147-.738-1.677.13-.328.539-.587 1.12-.895 1.672a2.423 2.423 0 0 1-.42.557c-.392.38-.626.82-.644 1.373-.004.11-.085.218-.13.327-.088-.09-.177-.178-.264-.27-.144-.151-.286-.304-.43-.456-.122.159-.247.316-.365.478-.091.125-.172.258-.257.388-.101-.125-.232-.235-.298-.375-.95-2.054-3.339-2.893-5.278-2.478-.48.103-.955.24-1.422.394-.6.198-1.022.618-1.344 1.157-.097.161-.265.28-.425.445-.57-1.274-1.463-1.727-2.736-1.375-.585.163-1.13.468-1.701.691a.65.65 0 0 1-.377 0c-.365-.099-.718-.272-1.088-.314-.336-.04-.74-.045-1.023.106-1.241.663-2.62.817-3.942 1.185-.902.25-1.78.6-2.642.97-.51.218-.716.53-.835.97zm28.874-3.406-.07.13c-.673-.128-1.347-.254-2.128-.4.25-.61.45-1.127.68-1.632.049-.109.207-.244.302-.234.097.009.2.17.26.286.203.382.385.775.582 1.161.118.233.249.46.374.69z" class="antcolor"></path><g fill="303846" class="antcolor"><path d="M45.718 9.509c.137-.035.273-.073.41-.105.66-.156 1.329-.283 1.98-.47 1.528-.437 3.01-1.01 4.466-1.642.932-.405 1.84-.866 2.754-1.308.265-.128.326-.11.524.112.342.387.701.759 1.067 1.151.324-.32.701-.696 1.082-1.069.05-.048.125-.116.175-.106.05.01.1.098.123.163.236.674.465 1.35.697 2.025.008.023.02.045.014.03.101-.163.194-.346.321-.5.058-.072.186-.085.28-.128.058-.026.121-.05.167-.09.16-.14.317-.284.469-.433a.523.523 0 0 0 .122-.182c.262-.702.518-1.406.78-2.108.045-.121.094-.252.178-.345.062-.07.197-.137.278-.117.384.096.789.166 1.132.348.788.418 1.552.884 2.31 1.356.294.183.545.434.817.654.384-.83 1-1.514 1.533-2.254.101-.14.233-.263.369-.373.032-.027.171.01.198.055.126.21.277.423.333.656.154.64.26 1.291.395 1.936.078.375.173.747.267 1.15.424-.293.853-.456 1.336-.432.535.027.842.348 1.058.82l.104-.427c.073-.316.248-.42.558-.318.11.035.213.087.332.136.027-.581.288-1.05.61-1.497.086-.12.133-.27.185-.41A49.359 49.359 0 0 1 75.187 1.1c.1-.203.18-.419.3-.61.11-.177.26-.328.393-.49l.041.003c.14.094.292.174.415.286.118.11.232.239.303.381.574 1.158 1.158 2.31 1.692 3.486.196.43.46.673.897.851 1.546.629 2.645 1.751 3.355 3.251.135.287.204.61.266.924.06.3-.084.548-.302.75-.349.325-.787.471-1.225.616-.215.07-.433.129-.688.204.06.126.102.246.169.35.134.207.267.42.429.604.175.2.391.364.575.557.27.285.532.576.785.876.086.103.182.233.042.42-.056-.124-.088-.234-.152-.323-.083-.115-.191-.213-.288-.319-.026-.029-.046-.065-.074-.092-.14-.134-.281-.265-.42-.4-.088-.085-.158-.217-.262-.254-.242-.088-.293-.307-.407-.487-.187-.295-.382-.585-.555-.85l-2.285.26c.027.072.06.166.098.259.237.57.475 1.142.714 1.712.027.063.052.136.1.179.323.283.241.645.2.998-.107.928-.226 1.856-.325 2.786-.039.36-.04.726-.05 1.09a.324.324 0 0 0 .052.169c1.519 2.294.806 1.558.418 1.05a.273.273 0 0 1-.062-.094c-.158-.34-.265-.709-.562-.97-.027-.024-.026-.091-.023-.138.02-.391.029-.784.067-1.173.092-.953.202-1.903.293-2.855.008-.09-.056-.191-.1-.28-.175-.357-.36-.708-.532-1.066-.233-.482-.468-.963-.68-1.454-.09-.21-.203-.298-.438-.305-1.218-.037-2.28-.507-3.25-1.213l-.257-.182c-.38.44-.76.864-1.125 1.301-.366.44-.564.512-1.14.201-.224-.122-.413-.311-.632-.48a.424.424 0 0 0-.155.415c.124.891.222 1.786.349 2.677.036.258.02.466-.096.72-.145.314-.154.692-.214 1.044-.118.698-.232 1.397-.345 2.096a.303.303 0 0 0 .016.154c.136.338.287.67.413 1.012.096.26.24.474.45.654.109.093.21.202.29.32.047.072.046.175.033.279-.27-.279-.588-.477-.771-.845a7.136 7.136 0 0 1-.57-1.493 1.323 1.323 0 0 1-.008-.51c.138-.854.283-1.708.441-2.56a1.14 1.14 0 0 0-.04-.532c-.057-.214-.044-.447-.063-.672l-.182-2.2c-.176.11-.29.192-.412.257-.338.179-.562.149-.797-.157-.17-.22-.293-.477-.428-.722-.055-.102-.087-.215-.127-.316-.227-.043-.338.04-.384.257-.023.109-.115.203-.176.304-.107-.071-.217-.137-.317-.215-.053-.04-.088-.103-.142-.169-.623.287-1.26.456-1.966.2-.098.293-.187.578-.288.858-.222.62-.433 1.243-.686 1.85-.068.165-.27.273-.406.413a.415.415 0 0 0-.098.164c-.26.882-.483 1.778-.785 2.646-.183.527-.427 1.029-.516 1.591-.042.271-.164.539-.294.785-.088.169-.251.299-.409.478-.01-.078-.036-.14-.022-.19a.433.433 0 0 1 .103-.199c.32-.307.45-.701.52-1.12.135-.813.51-1.547.751-2.324.173-.558.398-1.108.496-1.679.148-.855.503-1.622.846-2.401.143-.326.246-.67.371-1.015l-.924-.652c-.026.161-.039.302-.074.438-.159.62-.565 1.061-1.064 1.424-.847.616-1.802.997-2.816 1.23-.207.048-.435.004-.653.017-.074.004-.17.03-.213.082-.417.5-.931.85-1.556 1.037-.07.02-.144.03-.277.055.283-.25.542-.454.528-.814-.002-.046-.078-.09-.127-.142.102-.183.437-.295.304-.657.219-.208.22-.25.062-.542-.084-.156-.143-.324-.23-.523-.044.104-.085.18-.108.26-.045.16-.03.325-.218.44-.092.057-.093.273-.123.418-.027.133-.017.256-.106.394-.096.15-.066.382-.087.58-.004.037.007.078.015.155-.422-1.101-.313-2.18.372-3.008.231-.28.246-.268.256-.48-.852.806-1.685 1.614-3.013 1.6.07-.076.103-.133.152-.16a.325.325 0 0 1 .178-.044c.664.056 1.136-.404 1.695-.628.03-.012.051-.044.074-.07.263-.297.522-.597.789-.89.414-.457.38-.315.042-.727-.415-.505-.84-1.003-1.261-1.503a2.054 2.054 0 0 0-.098-.107c-.343.27-.68.531-1.01.8-1.385 1.12-2.747 2.272-4.252 3.235-.412.263-.82.531-1.233.792-.092.058-.196.1-.3.13-.046.014-.106-.02-.159-.032.015-.055.017-.12.05-.163a.35.35 0 0 1 .15-.104c.837-.313 1.532-.86 2.253-1.363 1.505-1.047 2.9-2.232 4.28-3.437l.06-.063-1.188-1.336c-.945.446-1.855.915-2.796 1.311-2.116.892-4.27 1.676-6.509 2.208-.155.037-.33-.006-.495-.012l.01-.124zm28.33-4.273c1.313-.63 2.634-.933 4.07-.607L76.045.608C75.361 2.17 74.51 3.59 74.05 5.236zM64.804 6.89c-1.019-.922-2.058-1.706-3.338-2.19l-.629 2.108c1.08-.262 1.532-.004 1.985.727.102.166.24.31.376.483.363-.611.922-.9 1.606-1.128zm1.406-.075c.382.112.757.202 1.116.335.354.132.69.308 1.028.462l-.678-2.788c-.697.542-.957 1.36-1.466 1.99zm-8.137-.443-1.049 1.05 1.578 1.857c.094-.163.195-.333.288-.507a.184.184 0 0 0 .004-.133c-.269-.749-.541-1.496-.821-2.267zm15.064 2.616-.27-.268c-.127.283-.357.327-.607.34-.265.013-.53.033-.784.05-.087.27-.023.483.109.71.169.292.336.574.579.767l.973-1.599zM62.106 7.51l.06-.07c-.07-.114-.115-.282-.216-.33-.162-.074-.36-.077-.544-.083-.02 0-.074.253-.067.255.253.086.51.156.767.228zm7.297.674c.134-.062.253-.105.357-.173.036-.023.053-.112.04-.161-.008-.037-.082-.086-.12-.081a1.15 1.15 0 0 0-.326.092c-.057.027-.138.116-.126.15.02.063.101.105.175.173zm2.503-.335c.016-.201-.082-.234-.19-.2-.041.012-.054.116-.08.179z" class="antcolor"></path></g></svg></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Worker Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cli#quickstart">Worker Quickstart</a></li><li class="footer__item"><a class="footer__link-item" href="https://postgraphile.org/">PostGraphile</a></li><li class="footer__item"><a class="footer__link-item" href="https://grafast.org">Gra<em>fast</em></a></li><li class="footer__item"><a class="footer__link-item" href="https://build.graphile.org/">Graphile Build</a></li><li class="footer__item"><a class="footer__link-item" href="https://star.graphile.org">Graphile*</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/graphile" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://fosstodon.org/@graphile" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mastodon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/GraphileHQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/graphile/worker" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://graphile.org/sponsor" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsor<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPrP"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Graphile Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e57668fe.js"></script>
<script src="/assets/js/main.5e9516a1.js"></script>
</body>
</html>